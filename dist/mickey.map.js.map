{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 4ba487243cca49b58741","webpack:///./src/mickey.js","webpack:///./src/math.js","webpack:///./~/babel-runtime/helpers/class-call-check.js","webpack:///./src/box.js","webpack:///./src/dom-observer.js","webpack:///./src/dom.js","webpack:///./~/babel-runtime/helpers/create-class.js"],"names":[],"mappings":"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","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Mickey\"] = factory();\n\telse\n\t\troot[\"Mickey\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 4ba487243cca49b58741\n **/","import { DOMObserver } from './dom-observer';\nimport { Box, createBox } from './box';\nimport { $first, $find, $rmvClass, $addClass } from './dom';\nimport { dot, vec, opp, nil, dist1, distp, axisReflect, pointReflect } from './math';\n\nvar BASE = {\n  left:  { x: -1, y: 0 },\n  up:    { x: 0,  y: -1 },\n  right: { x: 1,  y: 0 },\n  down:  { x: 0,  y: 1 },\n};\n\nvar KEYS = {\n  37: 'left',\n  38: 'up',\n  39: 'right',\n  40: 'down',\n  13: 'click'\n};\n\nvar LIMITS = {\n  left:  'left',\n  up:    'top',\n  right: 'right',\n  down:  'bottom',\n};\n\nvar DIRS = {\n  left:  'horizontal',\n  right: 'horizontal',\n  up:    'vertical',\n  down:  'vertical'\n};\n\nfunction keyListener(mouse) {\n  var listener = (ev) => {\n    var k = KEYS[ev.keyCode];\n    if (k === 'click') {\n      mouse.click();\n    } else if (k) {\n      mouse.move(k);\n    }\n  };\n\n  return {\n    bind:   _.bind(document.addEventListener,    document, 'keydown', listener),\n    unbind: _.bind(document.removeEventListener, document, 'keydown', listener)\n  };\n}\n\nfunction dataSorter(name, ord, prefix) {\n  return el => el.hasAttribute(prefix + name) ? ord : 0;\n}\n\nexport default class Mickey {\n  constructor (parent, options) {\n    if (!parent)\n      throw new Error('mickey: should pass a parent DOM element');\n\n    var locked = false;\n    var inited = false;\n\n    options = _.defaults(options || {}, {\n      hoverClass: 'hover',\n      areaClass:  'hover',\n      trackClass: 'tracked',\n      overlap: 0,\n      position: null,\n      priority: 'left,top',\n      listener: keyListener,\n      observer: DOMObserver,\n      prefix: 'data-nav-',\n      $area: '[data-nav-area]',\n      $href: null\n    });\n\n    var limitLast     = dataSorter('limit', 1, options.prefix);\n\n    var selectedFirst = dataSorter('selected', -1, options.prefix);\n\n    var mouse = {\n      version: '1.0.6',\n      pos: options.position || nil(),\n      el: null,\n      ar: null,\n    };\n\n    var listener = options.listener(mouse);\n\n    function dispatchEvent(el, type) {\n      if (!el) return;\n      var ev = document.createEvent('MouseEvents');\n      var x = mouse.pos.x;\n      var y = mouse.pos.y;\n      ev.initMouseEvent(type, true, true, window, 0, x, y, x, y, false, false, false, false, 0, null);\n      el.dispatchEvent(ev);\n    }\n\n    function isArea(el) {\n      return !!el && (el.hasAttribute(options.prefix + 'area') || el === parent);\n    }\n\n    function isLimit(el) {\n      return !!el && el.hasAttribute(options.prefix + 'limit');\n    }\n\n    function isTracked(el) {\n      return !!el && el.hasAttribute(options.prefix + 'track');\n    }\n\n    function checkCircular(el, dir) {\n      if (!el || !el.hasAttribute(options.prefix + 'circular')) return false;\n      var circular = el.getAttribute(options.prefix + 'circular');\n      return circular === '' || DIRS[dir] === circular;\n    }\n\n    function checkLimit(el, dir) {\n      return !!dir && isLimit(el) && el.getAttribute(options.prefix + 'limit') === LIMITS[dir];\n    }\n\n    function isSelected(el) {\n      return !!el && el.hasAttribute(options.prefix + 'selected');\n    }\n\n    function intersectRect(r1, r2, dir) {\n      if (dir.y !== 0) {\n        return !(r2.left >= r1.left + r1.width || r2.left + r2.width <= r1.left);\n      }\n      if (dir.x !== 0) {\n        return !(r2.top >= r1.top + r1.height || r2.top + r2.height <= r1.top);\n      }\n      return false;\n    }\n\n    // Finds and returns the closest element from a given vector\n    // position or Box to a set of DOM elements.\n    //\n    // If a direction is given as a vector or string 'up', 'left'\n    // 'down', 'right', the closest element will be searched in the\n    // halfspace defined by the direction and the position.\n    function findClosest(pos, els, dir, area) {\n      var v  = dir ? BASE[dir] : nil();\n      var v_ = opp(v);\n      var rect = pos._r;\n\n      if (pos instanceof Box)\n        pos = pos.bound(v);\n\n      var halfSpace = p => dot(vec(pos, p), v) >= 0;\n\n      var res = _.sortBy(_.map(_.filter(_.map(els, function(el) { return createBox(el, options.overlap); }),\n        b => b && halfSpace(area ? b.bound(v_) : b.center())),\n        function(b) {\n          var bound = b.bound(v_);\n          var item = ({\n            el: b.el,\n            proj: distp(pos, b.bound(v_), v),\n            dist: dist1(pos, bound),\n            priority: Infinity\n          });\n          if (!rect || !intersectRect(rect, b._r, v)) { return item; }\n          if (v.y !== 0) {\n            if (_.contains(options.priority, 'left')) {\n              item.priority = bound.x;\n            }\n            if (_.contains(options.priority, 'right')) {\n              item.priority = -bound.x;\n            }\n          }\n          if (v.x !== 0) {\n            if (_.contains(options.priority, 'top')) {\n              item.priority = bound.y;\n            }\n            if (_.contains(options.priority, 'bottom')) {\n              item.priority = -bound.y;\n            }\n          }\n          return item;\n        }),\n        ['proj', 'priority', 'dist']);\n\n      if (res.length > 1 && _.find(res, x => x.priority < Infinity)) {\n        res = _.filter(res, x => x.priority < Infinity);\n      }\n\n      return res[0] && res[0].el;\n    }\n\n    // Finds and returns the element that contains the given\n    // position from a set of given DOM elements.\n    function findHovered(pos, els) {\n      var box = createBox(findClosest(pos, els), options.overlap);\n      if (box && box.contains(pos, BASE)) return box.el;\n    }\n\n    // Find all the areas in the DOM.\n    function allAreas() {\n      var els = $find(parent, options.$area);\n      return els.length ? els: [parent];\n    }\n\n    // Find the default area: the one containing prefix-selected\n    // attribute or (if none) the first one in the DOM.\n    function defaultArea() {\n      var els = allAreas();\n      if (_.some(els, isSelected)) {\n        els = _.sortBy(els, selectedFirst);\n      }\n      return _.first(els);\n    }\n\n    // Find all selectable elements inside the given DOM element.\n    function allSelectables(el, dir) {\n      var els = $find(el, el.getAttribute(options.prefix + 'area') || options.$href);\n      var lim = _.some(els, isLimit);\n      if (lim) els = _.sortBy(els, limitLast);\n      if (lim && dir) {\n        return _.filter(els, el => !isLimit(el) || checkLimit(el, dir));\n      } else {\n        return els;\n      }\n    }\n\n    function fallback(dir) {\n      return mouse.focus(mouse.closest() || defaultArea(), dir, true);\n    }\n\n    var obs;\n    var bind = _.once(() => {\n      obs = options.observer(parent, watch);\n      if (listener.bind) listener.bind(parent);\n    });\n\n    var unbind = _.once(() => {\n      obs && obs.disconnect();\n      if (listener.unbind) listener.unbind();\n    });\n\n    mouse.focus = function(el, dir, fallback) {\n      if (_.isString(el)) {\n        el = parent.querySelector(el);\n      }\n\n      if (isArea(el))\n        return mouse.focus(mouse.defaults(el));\n\n      var box = createBox(el, options.overlap);\n      if (!box) return false;\n\n      var newEl = el;\n      var newAr = mouse.area(newEl);\n      var memEl = mouse.el;\n      var memAr = mouse.ar;\n\n      var newLimit  = isLimit(newEl);\n      var shiftArea = newAr !== memAr;\n\n      if (shiftArea) {\n        mouse.ar = newAr;\n        $rmvClass(memAr, options.areaClass);\n        $addClass(newAr, options.areaClass);\n      }\n\n      if (newEl !== memEl &&\n         (newAr !== memAr || !newLimit || fallback)) {\n        mouse.pos = box.center();\n        mouse.el = newEl;\n        $rmvClass(memEl, options.hoverClass);\n        $addClass(memEl, options.trackClass, shiftArea && isTracked(memAr));\n        dispatchEvent(memEl, 'mouseout');\n        dispatchEvent(newEl, 'mouseover');\n      }\n\n      $rmvClass(newEl, options.trackClass);\n      $addClass(newEl, options.hoverClass, !newLimit);\n\n      if (newLimit && checkLimit(newEl, dir)) {\n        mouse.click(el);\n      }\n\n      if (!inited) inited = true;\n\n      return true;\n    };\n\n    mouse.position = function() {\n      return {\n        x: mouse.pos.x,\n        y: mouse.pos.y\n      };\n    };\n\n    mouse.move = function(dir) {\n      if (locked)\n        throw new Error('mickey: locked');\n\n      var curEl = mouse.el;\n      var boxEl = createBox(curEl, options.overlap);\n      if (!boxEl) {\n        if (!fallback(dir)) throw new Error('mickey: cannot move');\n        return;\n      }\n\n      // find the closest element in the same area as the current focused\n      // element\n      var curAr = mouse.area();\n      var selectables = _.without(allSelectables(curAr, dir), curEl);\n      var newEl = findClosest(boxEl, selectables, dir);\n      if (newEl)\n        return mouse.focus(newEl, dir);\n\n      var zidx = +curAr.getAttribute(options.prefix + 'z-index');\n      if (zidx > 0)\n        return;\n\n      if (checkCircular(curAr, dir))\n        return mouse.focus(mouse.circular(dir));\n\n      // if no close element has been found, we may have to search for the\n      // closest area, or check for a limit element\n      var boxAr = createBox(curAr, options.overlap);\n      var areas = _.without(allAreas(), curAr);\n      var newAr = findClosest(boxAr, areas, dir, true);\n      if (!newAr) {\n        if (checkLimit(mouse.el, dir))\n          return mouse.click();\n        else\n          return false;\n      }\n\n      // for a area containing only one limit element\n      var els = allSelectables(newAr);\n      if (els.length === 1 && checkLimit(els[0], dir))\n        return mouse.click(els[0]);\n\n      if (isTracked(curAr)) {\n        curAr.setAttribute(options.prefix + 'track-pos', JSON.stringify(mouse.pos));\n      }\n\n      if (isTracked(newAr)) {\n        var trackPos = newAr.getAttribute(options.prefix + 'track-pos');\n        var trackElt = $first(newAr, '.' + options.trackClass);\n        newEl = trackElt || (trackPos && findClosest(JSON.parse(trackPos), els));\n      }\n\n      return mouse.focus(newEl || els[0], dir);\n    };\n\n    mouse.click = function(el) {\n      if (locked || !inited) throw new Error('mickey: locked');\n      el = el || mouse.el;\n      if (!parent.contains(el, BASE)) throw new Error('mickey: cannot click on non visible element');\n      if (!el && !fallback())         throw new Error('mickey: cannot click');\n      dispatchEvent(el, 'click');\n      return true;\n    };\n\n    // current mouse area\n    mouse.area = function(el) {\n      el = el || mouse.el;\n      while (el && el !== parent) {\n        el = el.parentNode;\n        if (isArea(el)) return el;\n      }\n      return parent;\n    };\n\n    mouse.closest = function(ar) {\n      var els = _.flatten(_.map(ar ? [ar] : allAreas(), allSelectables));\n      return findClosest(mouse.pos, els);\n    };\n\n    mouse.closestInArea = function() {\n      return mouse.closest(mouse.ar);\n    };\n\n    mouse.defaults = function(ar) {\n      return (allSelectables(ar || defaultArea()))[0];\n    };\n\n    mouse.defaultsInArea = function() {\n      return mouse.defaults(mouse.ar);\n    };\n\n    mouse.hovered = function() {\n      var els = _.flatten(_.map(allAreas(), allSelectables));\n      return findHovered(mouse.pos, els);\n    };\n\n    mouse.circular = function(dir) {\n      var reflect;\n      var center = createBox(mouse.ar, options.overlap).center();\n      if (dir) {\n        reflect = axisReflect(createBox(mouse.el, options.overlap), dir, center);\n      } else {\n        reflect = pointReflect(mouse.pos, center);\n      }\n      return findClosest(reflect, allSelectables(mouse.ar), dir);\n    };\n\n    mouse.block = function() {\n      locked = true;\n      $addClass(mouse.el, 'blocked');\n    };\n\n    mouse.unblock = function() {\n      locked = false;\n      $rmvClass(mouse.el, 'blocked');\n    };\n\n    // clear mouse\n    mouse.clear = _.once(() => {\n      unbind();\n      mouse.pos = nil();\n      mouse.el = null;\n      mouse.ar = null;\n      parent = null;\n      locked = false;\n      listener = null;\n    });\n\n    // focus update on current area\n    mouse.update = function() {\n      mouse.focus(mouse.closest());\n    };\n\n    // mouse initialization\n    mouse.init = function() {\n      if (inited) {\n        throw new Error('mickey: already initialized');\n      }\n\n      bind();\n\n      mouse.focus(options.position ?\n        mouse.hovered() :\n        mouse.defaults());\n\n      return mouse;\n    };\n\n    var watch = function() {\n      if (!inited)\n        return mouse.init();\n\n      if (!parent || parent.contains(mouse.el, BASE))\n        return;\n\n      // TODO: handle mouse.ar disapearance ?\n      var el, ar = mouse.ar;\n      switch(ar.getAttribute(options.prefix + 'policy')) {\n      default:\n      case 'closest':  el = mouse.closestInArea(); break;\n      case 'defaults': el = mouse.defaultsInArea(); break;\n      case 'hovered':  el = mouse.hovered(); break;\n      case 'circular': el = mouse.circular(); break;\n      }\n\n      mouse.focus(el, null, true);\n    };\n\n    return mouse;\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/mickey.js\n **/","// math.js\nexport function nil() {\n  return { x: 0, y: 0 };\n}\n\nexport function vec(a, b) {\n  return { x: b.x - a.x, y: b.y - a.y };\n}\n\nexport function dist1(a, b) {\n  return norm2(vec(a, b));\n}\n\nexport function distp(a, b, dir) {\n  return norm1(proj(vec(a, b), dir));\n}\n\nexport function norm1(a) {\n  return Math.sqrt(a.x * a.x + a.y * a.y);\n}\n\nexport function norm2(a) {\n  return Math.abs(a.x) + Math.abs(a.y);\n}\n\nexport function opp(a) {\n  return { x: -a.x, y: -a.y };\n}\n\nexport function dot(a, b) {\n  return a.x * b.x + a.y * b.y;\n}\n\nexport function pointReflect(a, c) {\n  return { x: 2 * c.x - a.x, y: 2 * c.y - a.y };\n}\n\nexport function axisReflect(box, dir, center) {\n  switch (dir) {\n  case 'up':\n    box._r.top = box._r.top + 2 * center.y;\n    break;\n  case 'down':\n    box._r.top = box._r.top - 2 * center.y;\n    break;\n  case 'left':\n    box._r.left = box._r.left + 2 * center.x;\n    break;\n  case 'right':\n    box._r.left = box._r.left - 2 * center.x;\n    break;\n  default:\n    break;\n  }\n  return box;\n}\n\n// project a over b where b has norm 1\nfunction proj(a, b) {\n  var d = dot(a, b);\n  return { x: d * b.x, y: d * b.y };\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/math.js\n **/","\"use strict\";\n\nexports[\"default\"] = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nexports.__esModule = true;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/helpers/class-call-check.js\n ** module id = 2\n ** module chunks = 0\n **/","// box.js\nimport { vec, dot } from \"./math\";\n\nexport function createBox(el: HTMLElement, overlap?: integer) {\n  if (!el) return;\n  var r = _.extend({}, el.getBoundingClientRect());\n  if (r.height > 0 || r.width > 0) {\n    if (overlap) {\n      r.height = r.height - 2 * overlap;\n      r.width = r.width - 2 * overlap;\n      r.top = r.top + overlap;\n      r.left = r.left + overlap;\n      r.right = r.right - overlap;\n      r.bottom = r.bottom - overlap;\n    }\n    return new Box(el, r);\n  }\n}\n\nexport class Box {\n  constructor (el, r) {\n    this.el = el;\n    this._r = r;\n  }\n\n  contains (pos, base) {\n    var c = this.center();\n    var v = vec(c, this.bound(base.down));\n    var h = vec(c, this.bound(base.right));\n    var x = vec(c, pos);\n    return (\n      2 * Math.abs(dot(v, x)) <= this._r.height &&\n      2 * Math.abs(dot(h, x)) <= this._r.width\n    );\n  }\n\n  center () {\n    return {\n      x: this._r.left + this._r.width  / 2,\n      y: this._r.top  + this._r.height / 2,\n    };\n  }\n\n  bound (d) {\n    return {\n      x: this._r.left + this._r.width  * (1 + d.x) / 2,\n      y: this._r.top  + this._r.height * (1 + d.y) / 2,\n    };\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/box.js\n **/","// dom-observer.js\n// creates an observer instance\nexport function DOMObserver(target, fn) {\n  var obs;\n  if (window.MutationObserver != null) {\n    obs = new MutationObserver(fn);\n    obs.observe(target, { attributes: false, childList: true, characterData: true, subtree: true });\n  } else {\n    fn = _.debounce(fn, 0);\n    target.addEventListener('DOMSubtreeModified', fn);\n    obs = {\n      disconnect() { target.removeEventListener('DOMSubtreeModified', fn); }\n    };\n  }\n  return obs;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/dom-observer.js\n **/","// dom.js\nexport function $first(el, selector) {\n  return el.querySelector(selector);\n}\n\nexport function $find(el, selector) {\n  return _.toArray(el.querySelectorAll(selector));\n}\n\nexport function $addClass(el, cl, add) {\n  if (!el || add === false) { return; }\n  el.classList.add(cl);\n}\n\nexport function $rmvClass(el, cl, rem) {\n  if (!el || rem === false) { return; }\n  el.classList.remove(cl);\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/dom.js\n **/","\"use strict\";\n\nexports[\"default\"] = (function () {\n  function defineProperties(target, props) {\n    for (var key in props) {\n      var prop = props[key];\n      prop.configurable = true;\n      if (prop.value) prop.writable = true;\n    }\n\n    Object.defineProperties(target, props);\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n})();\n\nexports.__esModule = true;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/helpers/create-class.js\n ** module id = 6\n ** module chunks = 0\n **/"],"sourceRoot":"","file":"mickey.map.js"}